<!DOCTYPE html>
<html>
<title>Jump Freighter Service</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<link rel="stylesheet" href="./assets/css/theme.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
    .bgimg {
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        min-height: 100%;
    }
    .container {
        width: auto;
    }
    pre {
        background-color: transparent;
    }
</style>
<body>

<!-- Sidenav with image -->
<nav class="sidenav hide-medium hide-small" style="width:40%">
    <div class="bgimg"></div>
</nav>

<!-- Page Content -->
<div class="main padding-large" style="margin-left:40%">

    <!-- Header -->
    <header class="container center" id="home">
        <h1 class="jumbo"><b>Jump Freighter Service</b></h1>
    </header>

    <!-- // Content -->
    <div class="padding-32 content" id="content-container">
        <!-- // error messages here -->
        <div class="errorMessage"></div>

        <!-- // UX elements -->
        <div class="row">
            <div class="col-xs-12">
                <form>
                    <div class="form-group">
                        <label for="routeInput">Route:</label>
                        <select class="form-control" id="routeInput" required>
                            <option value="" disabled selected>Select Route</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="volumeInput">Volume:</label>
                        <input type="number" class="form-control" id="volumeInput" placeholder="In m/3, no seperator. Exp: 125000" required />
                    </div>
                    <div class="form-group">
                        <label for="collateralInput">Collateral:</label>
                        <input type="number" class="form-control" id="collateralInput" placeholder="Optional, service provider not responsible for losses / theft.">
                    </div>
                    <button type="submit" class="btn btn-default">Calculate</button>
                </form>
            </div>
        </div>
        <!-- // output text here -->
        <div class="row" id="outputText"></div>
    </div>

    <!-- Footer -->
    <footer class="container padding-64 light-grey center opacity xlarge" style="margin:-24px">
        <p class="medium">Powered by: <a href="https://zkillboard.com/corporation/98409803/" target="_blank" class="hover-text-green">SPECF corp</a></p>
        <!-- End footer -->
    </footer>

    <!-- END PAGE CONTENT -->
</div>

</body>
<!-- jQuery slim, minified -->
<script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Custom JS logic -->
<script>
    var imageNumb = getRandomArbitrary(1, 5);

    function getRandomArbitrary(min, max) {
        return Math.floor(Math.random() * (max - min) + min);
    }

    $(document).ready(function(){

        // set background
        $('.bgimg').css('background-image', 'url(\'assets/media/'+imageNumb+'.jpg\')');

        // get routes data
        $.ajax({
            type: 'GET',
            dataType: 'json',
            url: './data/routes.json'
        }).done(function(returnData) {
            console.log(returnData);

            for(var counter in returnData.routes) {
                var routeData = returnData.routes[counter];

                $('select#routeInput').append($('<option>', {
                    value: routeData.cost,
                    text: routeData.start + ' -> ' + routeData.end,
                    'data-start': routeData.start,
                    'data-end': routeData.end,
                    'data-cost': routeData.cost
                }));
            }
        });

        $('form').on('submit', function(){
            event.preventDefault();
            var routeData = $('select#routeInput option:selected');
            var coll = $('input#collateralInput').val() != '' ? $('input#collateralInput').val() : 0;

            //$('div#outputText').innerHtml("<pre>asdf \n zxcv</pre>");
            document.getElementById('outputText').innerHTML = '<div class="alert alert-success">' +
                    '<pre>' +
                    'Type: Private\n' +
                    'Corp: XYZ Corp\n' +
                    'Length: 2 weeks\n' +
                    'Complete: 3 days\n' +
                    'Start At: ' + routeData.data('start') + '\n' +
                    'End At: ' + routeData.data('end')+ '\n' +
                    'Reward: ' + Math.round((routeData.data('cost') * $('#volumeInput').val()))  + ' ISK\n' +
                    'Collateral: ' + coll + ' ISK\n' +
                    '</pre>' +
                    '</div>';
        });
    });
</script>

</html>